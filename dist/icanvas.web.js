var ICanvas=function(t){"use strict";var e=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},n={},i={SetTransform:function(t){return this.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),this},Transform:function(t,e){return e?this.transform(1/t[0],-t[1],-t[2],1/t[3],-t[4],-t[5]):this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),this},ImagePattern:function(t,e,i,r,o){return t&&t.src?(n[t.src]=this.createPattern(t,"no-repeat"),this.save(),this.fillStyle=n[t],this.translate(e,i),this.fillRect(0,0,r,o),this.restore(),this):this},SetSize:function(t,e){return this.canvas.width=t,this.canvas.height=e,this.fillStyle="#000000",this},Clear:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this.clearRect(t,e,n||this.canvas.width,i||this.canvas.height),this},FontSet:function(t,e,n,i){return t&&this.font!=t&&(this.font=t),e&&this.fillStyle!=e&&(this.fillStyle=e),n&&this.textAlign!=n&&(this.textAlign=n),i&&this.textBaseline!=i&&(this.textBaseline=i),this},Fill:function(t){return t&&this.fillStyle!=t&&(this.fillStyle=t),this.fill(),this},Stroke:function(t,e){return t&&this.strokeStyle!=t&&(this.strokeStyle=t),e&&this.lineWidth!=e&&(this.lineWidth=e),this.stroke(),this},Image:function(t,e,n,r,o){var s=i.Image.GetImage(t);return Array.prototype.splice.call(arguments,0,3,s,e-(r||s.width)/2,n-(o||s.height)/2),this.drawImage.apply(this,arguments),this},Polygon:function(){var t=this,e=arguments[arguments.length-1];this.beginPath(),this.moveTo((e.x+arguments[0].x)/2,(e.y+arguments[0].y)/2);var n=Array.prototype.reduce.call(arguments,(function(e,n){return e.r?t.arcTo(e.x,e.y,n.x,n.y,e.r):t.lineTo(e.x,e.y),n})),i=arguments[0];return n.r?this.arcTo(n.x,n.y,i.x,i.y,n.r):this.lineTo(n.x,n.y),this.closePath(),this},ArcRect:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8;return this.beginPath(),this.moveTo(t+r,e),this.arcTo(t+n,e,t+n,e+i,r),this.arcTo(t+n,e+i,t,e+i,r),this.arcTo(t,e+i,t,e,r),this.arcTo(t,e,t+n,e,r),this.closePath(),this},PolygonTidy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;if(i instanceof Array){var s=i.map((function(s,a){return{x:t+n*s*Math.cos(2*(360*a/i.length+r)*Math.PI/360),y:e+n*s*Math.sin(2*(360*a/i.length+r)*Math.PI/360),r:o}}));return this.Polygon.apply(this,s)}for(var a=[],u=0;u<i;u++){var h=t+n*Math.cos(2*(360*u/i+r)*Math.PI/360),c=e+n*Math.sin(2*(360*u/i+r)*Math.PI/360);a.push({x:h,y:c,r:o})}return this.Polygon.apply(this,a)},DashLine:function(t,e,n,i,r,o){var s=r||12,a=o||3,u=n-t,h=i-e,c=Math.sqrt(u*u+h*h),l=s/c,f=a/c,p=0,d=!0;for(this.beginPath(),this.moveTo(t,e);;){var y=d?s:a,v=d?l:f;if(p+y>c&&(v=(y=c-p)/c),t+=u*v,e+=h*v,this[d?"lineTo":"moveTo"](t,e),d=!d,(p+=y)>=c)return this.closePath(),this}}};var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t},a=function(){function t(){r(this,t),e(this,"HandleComponents",[])}return s(t,[{key:"Update",value:function(t,e,n){this.PreUpdate(t),this.HandleComponents.sort((function(t,e){return t._HandleParentZIndex-e._HandleParentZIndex||t._HandleZIndex-e._HandleZIndex})),this.Updating(e,n),this.HandleComponents.length=0}},{key:"PreUpdate",value:function(t){if(t)if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.PreUpdate(t[e]);else{if(!t._visible)return;t.preUpdate&&t.preUpdate(),t.parent?t.matrix.setToArray(t.parent.matrix):t.matrix.identity(),t.matrix.translate(t.x,t.y).rotate(t.radian).scale(t.scaleX,t.scaleY),t.update&&(t._HandleParentZIndex=(t.parent&&t.parent._HandleParentZIndex||0)+t.zIndex,t._HandleZIndex=this.HandleComponents.push(t)),t.preUpdated&&t.preUpdated(),t.children.length&&this.PreUpdate(t.children),t.preChildrenUpdated&&t.preChildrenUpdated()}}},{key:"Updating",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&t.clearRect(0,0,t.canvas.width,t.canvas.height),this.HandleComponents.forEach((function(e){var n=e.alpha;0!=n&&(e.beforeUpdate&&e.beforeUpdate(t),n>1&&(n=1),n!=t.globalAlpha&&(t.globalAlpha=n),t.setTransform.apply(t,e.matrix),e.update(t),e.updated&&e.updated(t))})),t.setTransform(1,0,0,1,0,0)}}]),t}();function u(t,e){return t(e={exports:{}},e.exports),e.exports}var h=u((function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(i){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=n=function(t){return e(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(i)}t.exports=n}));var c=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var l=function(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?c(t):e},f=u((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e})),p=u((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e}));var d=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)},y=u((function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new r(i,o||t,s),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,r,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var u,h,c=this._events[a],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,r),!0;case 5:return c.fn.call(c.context,e,i,r,o),!0;case 6:return c.fn.call(c.context,e,i,r,o,s),!0}for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];c.fn.apply(c.context,u)}else{var f,p=c.length;for(h=0;h<p;h++)switch(c[h].once&&this.removeListener(t,c[h].fn,void 0,!0),l){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,e);break;case 3:c[h].fn.call(c[h].context,e,i);break;case 4:c[h].fn.call(c[h].context,e,i,r);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[h].fn.apply(c[h].context,u)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,i,r){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||s(this,o);else{for(var u=0,h=[],c=a.length;u<c;u++)(a[u].fn!==e||r&&!a[u].once||i&&a[u].context!==i)&&h.push(a[u]);h.length?this._events[o]=1===h.length?h[0]:h:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})),g=function(t){function n(t,i){var o;return r(this,n),o=l(this,f(n).call(this)),e(c(o),"onTouchCancel",o.onTouchEnd),t&&i?(o.Position=t,o.Size=i,o.Touches={},o):l(o,console.error("缺少触摸范围定义"))}return d(n,t),s(n,[{key:"onTouchStart",value:function(t){for(var e=Date.now(),n=0,i=t.changedTouches.length;n<i;n++){var r=t.changedTouches[n],o=this.Touches[r.identifier]={};o.startX=o.endX=r.clientX*this.Size.x-this.Position.x,o.startY=o.endY=r.clientY*this.Size.y-this.Position.y,o.startTime=e,o.state=1,this.emit("touchStart",o)}return this}},{key:"onTouchMove",value:function(t){for(var e=0,n=t.changedTouches.length;e<n;e++){var i=t.changedTouches[e],r=this.Touches[i.identifier];r&&(r.moveX=r.endX,r.moveY=r.endY,r.endX=i.clientX*this.Size.x-this.Position.x,r.endY=i.clientY*this.Size.y-this.Position.y,r.state=2,this.emit("touchMove",r))}return this}},{key:"onTouchEnd",value:function(t){for(var e=Date.now(),n=0,i=t.changedTouches.length;n<i;n++){var r=t.changedTouches[n],o=this.Touches[r.identifier];o&&(delete this.Touches[r.identifier],o.endX=r.clientX*this.Size.x-this.Position.x,o.endY=r.clientY*this.Size.y-this.Position.y,o.endTime=e,o.state=3,this.emit("touchEnd",o))}return this}}]),n}(y),m=function(){function t(e,n){if(r(this,t),!e)throw Error("缺少碰撞矩阵");if(!n)throw Error("缺少碰撞坐标");this.MatrixHandle=e,this.TouchHandle=n}return s(t,[{key:"InComponent",value:function(t,e){return!!t._visible&&(t.matrix?this.MatrixHandle.setToArray(t.matrix).invert():this.MatrixHandle.identity(),this.TouchHandle.x=this.MatrixHandle.a*e.x+this.MatrixHandle.c*e.y+this.MatrixHandle.tx,this.TouchHandle.y=this.MatrixHandle.b*e.x+this.MatrixHandle.d*e.y+this.MatrixHandle.ty,t.offsetTouch&&t.offsetTouch(this.TouchHandle),t.hitMe?t.hitMe(this.TouchHandle.x,this.TouchHandle.y)?this.TouchHandle:void 0:this.TouchHandle)}},{key:"Recursive",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"touchTap";if(!t)return!1;if(!(t instanceof Array)){if(!t._visible)return!1;if(t.touchChildren&&t.children.length&&this.Recursive(t.children,e,n))return!0;if(!this.InComponent(t,e))return!1;if(!t[n])return t.touchStop;var i=t[n](this.TouchHandle.x,this.TouchHandle.y);return void 0===i||i}for(var r=t.length-1;r>=0;r--)if(this.Recursive(t[r],e,n))return!0}}]),t}();var k=function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"resources",{}),i}return d(n,t),s(n,[{key:"Set",value:function(t){throw Error("请先挂载加载函数(Set)")}},{key:"Get",value:function(){throw Error("请先挂载读取函数(Get)")}},{key:"load",value:function(t,e){var n=this;return this.emit("load",t,e),this.Set(e).then((function(i){n.emit("loaded",t,e,i),n.resources[t]=i}))}},{key:"preLoad",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=Object.keys(e);return this.emit("preLoad",i.length),Promise.all(i.map((function(i){return t.load(n+i,e[i])})))}}]),n}(y),b=function(t){function e(){return r(this,e),l(this,f(e).apply(this,arguments))}return d(e,t),s(e,[{key:"Set",value:function(t){var e=this;return new Promise((function(n,i){var r=e.Get();r.onload=function(){n(r)},r.onerror=function(t){i(t)},r.key=r.src=t}))}},{key:"get",value:function(t){return this.resources[t]||e.Error||(e.Error=this.Get())}}]),e}(k);e(b,"Error",null);var w=function(t){function e(){return r(this,e),l(this,f(e).apply(this,arguments))}return d(e,t),s(e,[{key:"Get",value:function(){return new Image}}]),e}(b),x=function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"channels",{}),e(c(i),"pools",{}),e(c(i),"_mute",!1),i}return d(n,t),s(n,[{key:"_get",value:function(t){if(!this.resources[t])throw Error("音频不存在");return this.Get(this.resources[t].src)}},{key:"channel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.channels[t]&&(this.channels[t].pause(),this.channels[t].destroy&&this.channels[t].destroy(),delete this.channels[t]),e){var i=this._get(e);i.Loop=n,this.channels[t]=i,this._mute||i.play()}return this}},{key:"channelMute",value:function(t){var e=this;return!0===t?(Object.keys(this.channels).forEach((function(t){return e.channelMute(t)})),this):this.channels[t]?(this.channels[t].pause(),this.channels[t].loop?this:(this.channels[t].destroy&&this.channels[t].destroy(),delete this.channels[t],this)):this}},{key:"pool",value:function(t){if(this.pools[t]||(this.pools[t]=[]),this._mute)return this;var e=this.pools[t].find((function(t){return t.paused}));return e||this.pools[t].push(e=this._get(t)),e.play(),this}},{key:"poolMute",value:function(t){var e=this;return!0===t?(Object.keys(this.pools).forEach((function(t){return e.poolMute(t)})),this):this.pools[t]?(this.pools[t].forEach((function(t){return t.pause()})),this):this}},{key:"mute",get:function(){return this._mute},set:function(t){var e=this;this._mute=t,t?(Object.keys(this.pools).forEach((function(t){return e.poolMute(!0)})),Object.keys(this.channels).forEach((function(t){return e.channelMute(!0)}))):Object.keys(this.channels).forEach((function(t){return e.channels[t].loop&&e.channels[t].play()}))}}]),n}(k),T=function(t){function e(){return r(this,e),l(this,f(e).apply(this,arguments))}return d(e,t),s(e,[{key:"Set",value:function(t){return new Promise((function(e,n){var i=new Audio;i.loop=!1,i.autoplay=!1,i.onloadeddata=function(){e(i)},i.onerror=function(t){n(t)},i.key=i.src=t}))}},{key:"Get",value:function(t){var e=new Audio;return e.loop=!1,e.autoplay=!1,e.onloadeddata=function(){e.Loop&&(e.loop=e.Loop),e.paused||e.play()},e.src=t,e}}]),e}(x);var S=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},A=u((function(t){function e(n,i,r){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?t.exports=e=function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&p(r,n.prototype),r}:t.exports=e=Reflect.construct,e.apply(null,arguments)}t.exports=e})),O=function(t){function e(){var t;return r(this,e),(t=l(this,f(e).call(this,arguments.length))).setTo.apply(c(t),arguments),t}return d(e,t),s(e,[{key:"set",value:function(t){for(var e=0;e<this.length;e++)this[e]=t;return this}},{key:"setTo",value:function(){return this.setToArray(arguments)}},{key:"setToArray",value:function(t){if(t===this)return this;for(var e=0;e<t.length;e++)this[e]=t[e];return this}},{key:"clone",value:function(){return(new this.constructor).setToArray(this)}},{key:"equals",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&this.length!=t.length)return!1;for(var n=e?this.length:Math.min(this.length,t.length),i=0;i<n;i++)if(this[i]!=t[i])return!1;return!0}},{key:"equalsSome",value:function(){return this.equals(arguments)}},{key:"Int8Array",get:function(){return new Int8Array(this)}},{key:"Uint8Array",get:function(){return new Uint8Array(this)}},{key:"Uint8ClampedArray",get:function(){return new Uint8ClampedArray(this)}},{key:"Int16Array",get:function(){return new Int16Array(this)}},{key:"Uint16Array",get:function(){return new Uint16Array(this)}},{key:"Int32Array",get:function(){return new Int32Array(this)}},{key:"Uint32Array",get:function(){return new Uint32Array(this)}},{key:"Float32Array",get:function(){return new Float32Array(this)}},{key:"Float64Array",get:function(){return new Float64Array(this)}},{key:"BigInt64Array",get:function(){return new BigInt64Array(this)}},{key:"BigUint64Array",get:function(){return new BigUint64Array(this)}}]),e}(u((function(t){function e(n){var i="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!S(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}function e(){return A(t,arguments,f(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),p(e,t)},e(n)}t.exports=e}))(Array)),C=function(t){function e(){return r(this,e),l(this,f(e).apply(this,arguments))}return d(e,t),s(e,[{key:"add",value:function(t){for(var e=0;e<this.length;e++)this[e]+=t;return this}},{key:"addTo",value:function(){return this.addToVector(arguments)}},{key:"addToVector",value:function(t){for(var e=0;e<t.length;e++)this[e]+=t[e];return this}},{key:"sub",value:function(t){for(var e=0;e<this.length;e++)this[e]-=t;return this}},{key:"subTo",value:function(){return this.subToVector(arguments)}},{key:"subToVector",value:function(t){for(var e=0;e<t.length;e++)this[e]-=t[e];return this}},{key:"mult",value:function(t){for(var e=0;e<this.length;e++)this[e]*=t;return this}},{key:"multTo",value:function(){return this.multToVector(arguments)}},{key:"multToVector",value:function(t){for(var e=0;e<t.length;e++)this[e]*=t[e];return this}},{key:"div",value:function(t){for(var e=0;e<this.length;e++)this[e]/=t;return this}},{key:"divTo",value:function(){return this.divToVector(arguments)}},{key:"divToVector",value:function(t){for(var e=0;e<t.length;e++)this[e]/=t[e];return this}},{key:"zero",value:function(){for(var t=0;t<this.length;t++)this[t]=0;return this}}]),e}(O),_=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(this,e),l(this,f(e).call(this,t,n))}return d(e,t),s(e,[{key:"rotate",value:function(t){var e=Math.sin(t),n=Math.cos(t),i=n*this.x-e*this.y;return this.y=e*this.x+n*this.y,this.x=i,this}},{key:"dist",value:function(t){return this.distTo(t.x,t.y)}},{key:"distTo",value:function(t,e){var n=this.x-t,i=this.y-e;return Math.sqrt(n*n+i*i)}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"min",value:function(t){return t.x<this.x&&(this.x=t.x),t.y<this.y&&(this.y=t.y),this}},{key:"max",value:function(t){return t.x>this.x&&(this.x=t.x),t.y>this.y&&(this.y=t.y),this}},{key:"inPolygon",value:function(t){if(arguments.length>1&&(t=arguments),t.length<3)return!1;for(var e=!1,n=0,i=t.length-1;n<t.length;i=n++){var r=t[n].x,o=t[n].y,s=t[i].x,a=t[i].y,u=o>this[1]!=a>this[1]&&this[0]<(s-r)*(this[1]-o)/(a-o)+r;u&&(e=!e)}return e}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"angle",value:function(t){return Math.acos(this.dot(t)/(this.mag()*t.mag()))}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}}]),e}(C),P=function(t){function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r(this,n),t=l(this,f(n).call(this,i,o,s)),e(c(t),"normalize",(function(){var t=this,e=t[0],n=t[1],i=t[2],r=Math.sqrt(e*e+n*n+i*i);return r?1==r?this:(r=1/r,t[0]=e*r,t[1]=n*r,t[2]=i*r,this):(t[0]=0,t[1]=0,t[2]=0,this)})),t}return d(n,t),n}(C),M=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return r(this,e),l(this,f(e).call(this,t,n,i,o))}return d(e,t),e}(C),E=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return r(this,e),l(this,f(e).call(this,t,n,i,o,s,a,0,0,1))}return d(e,t),s(e,[{key:"a",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"b",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"c",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"d",get:function(){return this[3]},set:function(t){this[3]=t}},{key:"tx",get:function(){return this[4]},set:function(t){this[4]=t}},{key:"ty",get:function(){return this[5]},set:function(t){this[5]=t}}]),s(e,[{key:"identity",value:function(){return this.setTo(1,0,0,1,0,0,0,0,1)}},{key:"translate",value:function(t,e){return this[4]=this[0]*t+this[2]*e+this[4],this[5]=this[1]*t+this[3]*e+this[5],this}},{key:"rotate",value:function(t){var e=Math.sin(t),n=Math.cos(t),i=this[0],r=this[1],o=this[2],s=this[3];return this[0]=i*n+o*e,this[1]=r*n+s*e,this[2]=i*-e+o*n,this[3]=r*-e+s*n,this}},{key:"scale",value:function(t,e){return this[0]*=t,this[1]*=t,this[2]*=e,this[3]*=e,this}},{key:"skew",value:function(t,e){var n=Math.tan(t),i=Math.tan(e),r=this[0],o=this[1];return this[0]+=i*this[2],this[1]+=i*this[3],this[2]+=n*r,this[3]+=n*o,this}},{key:"invert",value:function(){var t=this[0],e=this[1],n=this[2],i=this[3],r=this[4],o=this[5],s=t*i-e*n;return s?(s=1/s,this[0]=i*s,this[1]=-e*s,this[2]=-n*s,this[3]=t*s,this[4]=(n*o-i*r)*s,this[5]=(e*r-t*o)*s,this):this}},{key:"append",value:function(t){var e=this.a,n=this.b,i=this.c,r=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*n+t.b*r,this.c=t.c*e+t.d*i,this.d=t.c*n+t.d*r,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*r+this.ty,this}},{key:"prepend",value:function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}}]),e}(O),j=function(t){function e(){var t;return r(this,e),(t=l(this,f(e).call(this,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1))).setTo.apply(c(t),arguments),t}return d(e,t),s(e,[{key:"identity",value:function(){return this.setTo(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}},{key:"multiply",value:function(t){var e,n,i,r,o,s,a,u;if(i=this,(n=this)===(r=t))for(r=new Float32Array(16),e=0;e<16;++e)r[e]=n[e];for(e=0;e<4;e++)o=i[e],s=i[e+4],a=i[e+8],u=i[e+12],n[e]=o*r[0]+s*r[1]+a*r[2]+u*r[3],n[e+4]=o*r[4]+s*r[5]+a*r[6]+u*r[7],n[e+8]=o*r[8]+s*r[9]+a*r[10]+u*r[11],n[e+12]=o*r[12]+s*r[13]+a*r[14]+u*r[15];return this}},{key:"multiplyVector3",value:function(t){var e=this,n=t,i=new P;return i[0]=n[0]*e[0]+n[1]*e[4]+n[2]*e[8]+e[11],i[1]=n[0]*e[1]+n[1]*e[5]+n[2]*e[9]+e[12],i[2]=n[0]*e[2]+n[1]*e[6]+n[2]*e[10]+e[13],v}},{key:"multiplyVector4",value:function(t){var e=this,n=t,i=new M;return i[0]=n[0]*e[0]+n[1]*e[4]+n[2]*e[8]+n[3]*e[12],i[1]=n[0]*e[1]+n[1]*e[5]+n[2]*e[9]+n[3]*e[13],i[2]=n[0]*e[2]+n[1]*e[6]+n[2]*e[10]+n[3]*e[14],i[3]=n[0]*e[3]+n[1]*e[7]+n[2]*e[11]+n[3]*e[15],v}},{key:"transpose",value:function(){var t,e;return e=(t=this)[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setInverseOf",value:function(t){var e,n,i,r;if(n=t,this,(i=new Float32Array(16))[0]=n[5]*n[10]*n[15]-n[5]*n[11]*n[14]-n[9]*n[6]*n[15]+n[9]*n[7]*n[14]+n[13]*n[6]*n[11]-n[13]*n[7]*n[10],i[4]=-n[4]*n[10]*n[15]+n[4]*n[11]*n[14]+n[8]*n[6]*n[15]-n[8]*n[7]*n[14]-n[12]*n[6]*n[11]+n[12]*n[7]*n[10],i[8]=n[4]*n[9]*n[15]-n[4]*n[11]*n[13]-n[8]*n[5]*n[15]+n[8]*n[7]*n[13]+n[12]*n[5]*n[11]-n[12]*n[7]*n[9],i[12]=-n[4]*n[9]*n[14]+n[4]*n[10]*n[13]+n[8]*n[5]*n[14]-n[8]*n[6]*n[13]-n[12]*n[5]*n[10]+n[12]*n[6]*n[9],i[1]=-n[1]*n[10]*n[15]+n[1]*n[11]*n[14]+n[9]*n[2]*n[15]-n[9]*n[3]*n[14]-n[13]*n[2]*n[11]+n[13]*n[3]*n[10],i[5]=n[0]*n[10]*n[15]-n[0]*n[11]*n[14]-n[8]*n[2]*n[15]+n[8]*n[3]*n[14]+n[12]*n[2]*n[11]-n[12]*n[3]*n[10],i[9]=-n[0]*n[9]*n[15]+n[0]*n[11]*n[13]+n[8]*n[1]*n[15]-n[8]*n[3]*n[13]-n[12]*n[1]*n[11]+n[12]*n[3]*n[9],i[13]=n[0]*n[9]*n[14]-n[0]*n[10]*n[13]-n[8]*n[1]*n[14]+n[8]*n[2]*n[13]+n[12]*n[1]*n[10]-n[12]*n[2]*n[9],i[2]=n[1]*n[6]*n[15]-n[1]*n[7]*n[14]-n[5]*n[2]*n[15]+n[5]*n[3]*n[14]+n[13]*n[2]*n[7]-n[13]*n[3]*n[6],i[6]=-n[0]*n[6]*n[15]+n[0]*n[7]*n[14]+n[4]*n[2]*n[15]-n[4]*n[3]*n[14]-n[12]*n[2]*n[7]+n[12]*n[3]*n[6],i[10]=n[0]*n[5]*n[15]-n[0]*n[7]*n[13]-n[4]*n[1]*n[15]+n[4]*n[3]*n[13]+n[12]*n[1]*n[7]-n[12]*n[3]*n[5],i[14]=-n[0]*n[5]*n[14]+n[0]*n[6]*n[13]+n[4]*n[1]*n[14]-n[4]*n[2]*n[13]-n[12]*n[1]*n[6]+n[12]*n[2]*n[5],i[3]=-n[1]*n[6]*n[11]+n[1]*n[7]*n[10]+n[5]*n[2]*n[11]-n[5]*n[3]*n[10]-n[9]*n[2]*n[7]+n[9]*n[3]*n[6],i[7]=n[0]*n[6]*n[11]-n[0]*n[7]*n[10]-n[4]*n[2]*n[11]+n[4]*n[3]*n[10]+n[8]*n[2]*n[7]-n[8]*n[3]*n[6],i[11]=-n[0]*n[5]*n[11]+n[0]*n[7]*n[9]+n[4]*n[1]*n[11]-n[4]*n[3]*n[9]-n[8]*n[1]*n[7]+n[8]*n[3]*n[5],i[15]=n[0]*n[5]*n[10]-n[0]*n[6]*n[9]-n[4]*n[1]*n[10]+n[4]*n[2]*n[9]+n[8]*n[1]*n[6]-n[8]*n[2]*n[5],0===(r=n[0]*i[0]+n[1]*i[4]+n[2]*i[8]+n[3]*i[12]))return this;for(r=1/r,e=0;e<16;e++)this[e]=i[e]*r;return this}},{key:"invert",value:function(){return this.setInverseOf(this)}},{key:"setOrtho",value:function(t,e,n,i,r,o){var s,a,u,h;if(t===e||n===i||r===o)throw"null frustum";return a=1/(e-t),u=1/(i-n),h=1/(o-r),(s=this)[0]=2*a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=-2*h,s[11]=0,s[12]=-(e+t)*a,s[13]=-(i+n)*u,s[14]=-(o+r)*h,s[15]=1,this}},{key:"ortho",value:function(t,e,n,i,r,o){return this.multiply((new this.constructor).setOrtho(t,e,n,i,r,o))}},{key:"setFrustum",value:function(t,e,n,i,r,o){var s,a,u,h;if(t===e||i===n||r===o)throw"null frustum";if(r<=0)throw"near <= 0";if(o<=0)throw"far <= 0";return a=1/(e-t),u=1/(i-n),h=1/(o-r),(s=this)[0]=2*r*a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*r*u,s[6]=0,s[7]=0,s[8]=(e+t)*a,s[9]=(i+n)*u,s[10]=-(o+r)*h,s[11]=-1,s[12]=0,s[13]=0,s[14]=-2*r*o*h,s[15]=0,this}},{key:"frustum",value:function(t,e,n,i,r,o){return this.multiply((new this.constructor).setFrustum(t,e,n,i,r,o))}},{key:"setPerspective",value:function(t,e,n,i){var r,o,s,a;if(n===i||0===e)throw"null frustum";if(n<=0)throw"near <= 0";if(i<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(s=Math.sin(t)))throw"null frustum";return o=1/(i-n),a=Math.cos(t)/s,(r=this)[0]=a/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-(i+n)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=-2*n*i*o,r[15]=0,this}},{key:"perspective",value:function(t,e,n,i){return this.multiply((new this.constructor).setPerspective(t,e,n,i))}},{key:"setScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this;return i[0]=t,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=e,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=n,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this}},{key:"scale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this;return i[0]*=t,i[4]*=e,i[8]*=n,i[1]*=t,i[5]*=e,i[9]*=n,i[2]*=t,i[6]*=e,i[10]*=n,i[3]*=t,i[7]*=e,i[11]*=n,this}},{key:"setTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this;return i[0]=1,i[4]=0,i[8]=0,i[12]=t,i[1]=0,i[5]=1,i[9]=0,i[13]=e,i[2]=0,i[6]=0,i[10]=1,i[14]=n,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this}},{key:"translate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this;return i[12]+=i[0]*t+i[4]*e+i[8]*n,i[13]+=i[1]*t+i[5]*e+i[9]*n,i[14]+=i[2]*t+i[6]*e+i[10]*n,i[15]+=i[3]*t+i[7]*e+i[11]*n,this}},{key:"setRotate",value:function(t){var e,n,i,r,o,s,a,u,h,c,l,f,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return e=this,n=Math.sin(t),i=Math.cos(t),0!==p&&0===d&&0===y?(p<0&&(n=-n),e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=i,e[9]=-n,e[13]=0,e[2]=0,e[6]=n,e[10]=i,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1):0===p&&0!==d&&0===y?(d<0&&(n=-n),e[0]=i,e[4]=0,e[8]=n,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=-n,e[6]=0,e[10]=i,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1):0===p&&0===d&&0!==y?(y<0&&(n=-n),e[0]=i,e[4]=-n,e[8]=0,e[12]=0,e[1]=n,e[5]=i,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1):(1!==(r=Math.sqrt(p*p+d*d+y*y))&&(p*=o=1/r,d*=o,y*=o),s=1-i,a=p*d,u=d*y,h=y*p,c=p*n,l=d*n,f=y*n,e[0]=p*p*s+i,e[1]=a*s+f,e[2]=h*s-l,e[3]=0,e[4]=a*s-f,e[5]=d*d*s+i,e[6]=u*s+c,e[7]=0,e[8]=h*s+l,e[9]=u*s-c,e[10]=y*y*s+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1),this}},{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return this.multiply((new this.constructor).setRotate(t,e,n,i))}},{key:"setLookAt",value:function(t,e,n,i,r,o,s,a,u){var h,c,l,f,p,d,y,v,g,m,k,b;return c=i-t,l=r-e,f=o-n,d=(l*=p=1/Math.sqrt(c*c+l*l+f*f))*u-(f*=p)*a,y=f*s-(c*=p)*u,v=c*a-l*s,m=(y*=g=1/Math.sqrt(d*d+y*y+v*v))*f-(v*=g)*l,k=v*c-(d*=g)*f,b=d*l-y*c,(h=this)[0]=d,h[1]=m,h[2]=-c,h[3]=0,h[4]=y,h[5]=k,h[6]=-l,h[7]=0,h[8]=v,h[9]=b,h[10]=-f,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this.translate(-t,-e,-n)}},{key:"lookAt",value:function(t,e,n,i,r,o,s,a,u){return this.multiply((new this.constructor).setLookAt(t,e,n,i,r,o,s,a,u))}},{key:"dropShadow",value:function(t,e){var n=new this.constructor,i=n,r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3];return i[0]=r-e[0]*t[0],i[1]=-e[1]*t[0],i[2]=-e[2]*t[0],i[3]=-e[3]*t[0],i[4]=-e[0]*t[1],i[5]=r-e[1]*t[1],i[6]=-e[2]*t[1],i[7]=-e[3]*t[1],i[8]=-e[0]*t[2],i[9]=-e[1]*t[2],i[10]=r-e[2]*t[2],i[11]=-e[3]*t[2],i[12]=-e[0]*t[3],i[13]=-e[1]*t[3],i[14]=-e[2]*t[3],i[15]=r-e[3]*t[3],this.multiply(n)}},{key:"dropShadowDirectionally",value:function(t,e,n,i,r,o,s,a,u){var h=i*t+r*e+o*n;return this.dropShadow([t,e,n,-h],[s,a,u,0])}}]),e}(O),R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Math.random()*t|0)+e};R.To=function(t,e){return R(e-t,t)},(R.Array=function(t){return t[R(t.length)]}).Keys=R.Keys=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||!e)return[];for(var n=[],i=Object.keys(t);i.length>0&&n.length<e;)n.push(i.splice(R(i.length),1)[0]);return n},R.Array.Values=R.Values=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t||!e)return[];for(var n=[],i=Object.keys(t);i.length>0&&n.length<e;){var r=i.splice(R(i.length),1)[0];n.push(t[r])}return n};var D=["日","一","二","三","四","五","六"],U=new(function(){function t(){r(this,t),e(this,"Date",null)}return s(t,[{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jstimestamp";return t?t instanceof Date?this.Data=t:"object"==h(t)?this.Data=null:"function"==typeof t?this.Set(t(),e):this.Date=t>0?"jstimestamp"==e?new Date(1*t):new Date(1e3*t):"string"==typeof t?new Date(t):null:this.Date=null,this.Date||(this.Date=new Date),this}},{key:"Get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jstimestamp";switch(this.Date||(this.Date=new Date),e){case"Date":return this.Date;case"timestamp":return parseInt(this.Date.getTime()/1e3);case"jstimestamp":return this.Date.getTime()}return e.replace(/[YmdHisSwWqQ]/g,(function(e){return t[e]}))}},{key:"OneDay",value:function(t,e,n,i){return this.Set(t,n).Get("Ymd")==this.Set(e,i).Get("Ymd")}},{key:"OneWeek",value:function(t,e,n,i){return this.Set(t,n).ToWeek().Get("Ymd")==this.Set(e,i).ToWeek().Get("Ymd")}},{key:"ToWeek",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.Date.setDate(this.Date.getDate()-(this.w||7)+t),this}},{key:"GetWeek",value:function(t,e){return this.ToWeek(t).Get(e)}},{key:"Y",get:function(){return this.Date.getFullYear()}},{key:"m",get:function(){return("00"+(this.Date.getMonth()+1)).slice(-2)}},{key:"d",get:function(){return("00"+this.Date.getDate()).slice(-2)}},{key:"H",get:function(){return("00"+this.Date.getHours()).slice(-2)}},{key:"i",get:function(){return("00"+this.Date.getMinutes()).slice(-2)}},{key:"s",get:function(){return("00"+this.Date.getSeconds()).slice(-2)}},{key:"S",get:function(){return("000"+this.Date.getMilliseconds()).slice(-3)}},{key:"w",get:function(){return this.Date.getDay()}},{key:"W",get:function(){return D[this.w]}},{key:"q",get:function(){return(this.Date.getMonth()+3)/3|0}},{key:"Q",get:function(){return D[this.q]}}]),t}()),z={hex2rgb:function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#".concat(t)},string2hex:function(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}},L=function(){function t(){r(this,t),e(this,"_options",{left:0,top:0,right:750,bottom:1334,cacheY:{},cacheX:{}})}return s(t,[{key:"getX",value:function(t){return this._options.cacheX[t]?this._options.cacheX[t]:this._options.cacheX[t]=this._options.right*t}},{key:"getY",value:function(t){return this._options.cacheY[t]?this._options.cacheY[t]:this._options.cacheY[t]=this._options.bottom*t}},{key:"width",set:function(t){this._options.right=t,this._options.center=t/2,this._options.cacheX={}},get:function(){return this._options.right}},{key:"height",set:function(t){this._options.bottom=t,this._options.middle=t/2,this._options.cacheY={}},get:function(){return this._options.bottom}},{key:"center",get:function(){return this.getX(.5)}},{key:"middle",get:function(){return this.getY(.5)}}]),t}(),I=function(){function t(){r(this,t),e(this,"time",0),e(this,"then",0),e(this,"change",0),e(this,"delta",0),e(this,"interval",1e3/60)}return s(t,[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.interval;this.interval=t,this.then=this.time=Date.now()}},{key:"step",value:function(){if(this.time=Date.now(),this.change=this.time-this.then,this.change>this.interval)return this.delta=this.change%this.interval,this.then=this.time-this.delta,!0}}]),t}();var H=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t},B=u((function(t){function e(n,i,r){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=e=Reflect.get:t.exports=e=function(t,e,n){var i=H(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},e(n,i,r||n)}t.exports=e})),F=0,q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(t){var i;return r(this,n),i=l(this,f(n).call(this)),e(c(i),"id",++F),e(c(i),"zIndex",0),e(c(i),"children",[]),e(c(i),"parent",null),e(c(i),"lockChild",!1),e(c(i),"touchChildren",!0),e(c(i),"touchStop",!1),e(c(i),"matrix",new E),i.setOptions(t),i}return d(n,t),s(n,[{key:"setParent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t?this.parent==t?this:(this.parent||t.addChildAt(this,e),this):this.parent?this.parent.removeChild(this):this}},{key:"addChildAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?(t.create&&t.create(),t.parent=this,-1==e?this.children.push(t):0==e?this.children.unshift(t):this.children.splice(e,0,t),t.created&&t.created(),this):this}},{key:"addChild",value:function(t){if(!t)return this;if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.addChild(arguments[e]);return this}if(t instanceof Array){for(var n=0;n<t.length;n++)this.addChild(t[n]);return this}return this.addChildAt(t,-1)}},{key:"removeChild",value:function(t){if(!t)return this;if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.removeChild(arguments[e]);return this}if(t instanceof Array){for(var n=0;n<t.length;n++)this.removeChild(t[n]);return this}if(t.parent!=this)return this;t.lockChild||t.removeChildren(),t.destroy&&t.destroy();var i=this.children.indexOf(t);return i>=0&&this.children.splice(i,1),t.parent=null,t.destroyed&&t.destroyed(),this}},{key:"removeChildren",value:function(){for(var t=this.children.length-1;t>=0;t--)this.removeChild(this.children[t]);return this}}]),n}(t)},N={Position:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"position",new _),i}return d(n,t),s(n,[{key:"setPosition",value:function(t,e){return this.position.setTo(t,e),this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.position&&Object.assign(this.position,t.position),this}},{key:"x",get:function(){return this.position.x},set:function(t){this.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.position.y=t}}]),n}(t)},Angle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"radian",0),i}return d(n,t),s(n,[{key:"setRadian",value:function(t){return this.radian=t,this}},{key:"setAngle",value:function(t){return this.angle=t,this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.radian&&(this.radian=t.radian),t.angle&&(this.angle=t.angle),this}},{key:"angle",set:function(t){this.radian=t*Math.PI/180},get:function(){return 180*this.radian/Math.PI}}]),n}(t)},Scale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"scale",new _(1,1)),i}return d(n,t),s(n,[{key:"setScale",value:function(t,e){return this.scale.x=t,this.scale.y=e,this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.scale&&Object.assign(this.scale,t.scale),this}},{key:"scaleX",get:function(){return this.scale.x},set:function(t){this.scale.x=t}},{key:"scaleY",get:function(){return this.scale.y},set:function(t){this.scale.y=t}}]),n}(t)},Anchor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"anchor",new _),i}return d(n,t),s(n,[{key:"setAnchor",value:function(t,e){return this.anchor.x=t,this.anchor.y=e,this}},{key:"setAnchorSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return this.size?(this.anchor.x=this.width*t,this.anchor.y=this.height*e,this):this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.anchor&&Object.assign(this.anchor,t.anchor),this}},{key:"offsetTouch",value:function(t){return B(f(n.prototype),"offsetTouch",this)&&B(f(n.prototype),"offsetTouch",this).call(this,t),t.addToVector(this.anchor)}},{key:"anchorX",get:function(){return this.anchor.x},set:function(t){this.anchor.x=t}},{key:"anchorY",get:function(){return this.anchor.y},set:function(t){this.anchor.y=t}}]),n}(t)},Alpha:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"_alpha",1),i}return d(n,t),s(n,[{key:"setAlpha",value:function(t){return this.alpha=t,this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.alpha&&(this.alpha=t.alpha),this}},{key:"alpha",set:function(t){this._alpha=t},get:function(){return this._alpha<0&&this.parent?this.parent.alpha:this._alpha}}]),n}(t)},Visible:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"_visible",!0),i}return d(n,t),s(n,[{key:"setVisible",value:function(t){return this.visible=t,this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.visible&&(this.visible=t.visible),this}},{key:"visible",get:function(){return this.parent?this._visible&&this.parent.visible:this._visible},set:function(t){this._visible!=t&&(this._visible=t,t?this.show&&this.show():this.hide&&this.hide())}}]),n}(t)},Size:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"size",new _),i}return d(n,t),s(n,[{key:"setSize",value:function(t,e){return this.size.setTo(t,e),this}},{key:"setSizeLimit",value:function(t,e,n,i){if(!this.size.y)return this;var r=this.size.x/this.size.y;return t&&this.size.x>t&&(this.size.x=t,this.size.y=t/r),e&&this.size.y>e&&(this.size.y=e,this.size.x=e*r),n&&this.size.x<n&&(this.size.x=n,this.size.y=t/r),i&&this.size.y<i&&(this.size.y=e,this.size.x=e*r),this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.size&&Object.assign(this.size,t.size),this}},{key:"hitMe",value:function(t,e){return this.padding?t>=-this.paddingLeft&&t<=this.width+this.paddingRight&&e>=-this.paddingTop&&e<=this.height+this.paddingBottom:t>=0&&t<=this.width&&e>=0&&e<=this.height}},{key:"width",get:function(){return this.size.x},set:function(t){this.size.x=t}},{key:"height",get:function(){return this.size.y},set:function(t){this.size.y=t}}]),n}(t)},Clip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"useClip",!1),e(c(i),"clipPosition",new _),e(c(i),"clipSize",new _),i}return d(n,t),s(n,[{key:"setClip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this.useClip=!0,this.clipPosition.setTo(t,e),this.clipSize.setTo(n,i),this.size&&this.size.setTo(n,i),this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.clip&&this.setClip.apply(this,t.clip),this}}]),n}(t)},Padding:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"padding",new C(0,0,0,0)),i}return d(n,t),s(n,[{key:"setPadding",value:function(t,e,n,i){return this.padding.setTo(t,e,n,i),this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.padding&&Object.assign(this.padding,t.padding),this}},{key:"paddingTop",get:function(){return this.padding[0]}},{key:"paddingRight",get:function(){return this.padding[1]}},{key:"paddingBottom",get:function(){return this.padding[2]}},{key:"paddingLeft",get:function(){return this.padding[3]}}]),n}(t)},Style:function(){var t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n=t=function(t){function n(){var t,i;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=l(this,(t=f(n)).call.apply(t,[this].concat(s))),e(c(i),"style",Object.assign({},n.defaultStyle)),i}return d(n,t),s(n,[{key:"setStyle",value:function(t){return t.cacheFont||(this.style.cacheFont=""),Object.assign(this.style.options,t),this}},{key:"setOptions",value:function(t){return B(f(n.prototype),"setOptions",this)&&B(f(n.prototype),"setOptions",this).call(this,t),t.style&&this.setStyle(t.style),this}},{key:"font",set:function(t){this.style.cacheFont=t},get:function(){return this.style.cacheFont||(this._cacheFont="".concat(this.style.weight," ").concat(this.style.size,"px ").concat(this.style.family))}}]),n}(i),e(t,"defaultStyle",{color:"#000000",stroke:1,strokeColor:"#FFFFFF",family:"微软雅黑,黑体",size:26,weight:"",align:"center",baseline:"middle",cacheFont:""}),n},Build:function(){for(var t=null,e=0;e<arguments.length;e++)t=N[arguments[e]](t);return t}},V=q(N.Build("Position","Angle","Scale","Anchor","Alpha","Visible")),Y=q(N.Build("Clip","Size","Position","Angle","Scale","Anchor","Alpha","Visible")),X=q(N.Build("Clip","Size","Position","Angle","Scale","Anchor","Alpha","Visible")),W=q(N.Build("Style","Size","Position","Angle","Scale","Anchor","Alpha","Visible"));var G=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}},J=Object.prototype.toString;function Z(t){return"[object Array]"===J.call(t)}function K(t){return null!==t&&"object"==typeof t}function $(t){return"[object Function]"===J.call(t)}function Q(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),Z(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var tt={isArray:Z,isArrayBuffer:function(t){return"[object ArrayBuffer]"===J.call(t)},isBuffer:function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:K,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===J.call(t)},isFile:function(t){return"[object File]"===J.call(t)},isBlob:function(t){return"[object Blob]"===J.call(t)},isFunction:$,isStream:function(t){return K(t)&&$(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Q,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)Q(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,r=arguments.length;i<r;i++)Q(arguments[i],n);return e},extend:function(t,e,n){return Q(e,(function(e,i){t[i]=n&&"function"==typeof e?G(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function et(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var nt=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(tt.isURLSearchParams(e))i=e.toString();else{var r=[];tt.forEach(e,(function(t,e){null!=t&&(tt.isArray(t)?e+="[]":t=[t],tt.forEach(t,(function(t){tt.isDate(t)?t=t.toISOString():tt.isObject(t)&&(t=JSON.stringify(t)),r.push(et(e)+"="+et(t))})))})),i=r.join("&")}if(i){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t};function it(){this.handlers=[]}it.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},it.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},it.prototype.forEach=function(t){tt.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var rt=it,ot=function(t,e,n){return tt.forEach(n,(function(n){t=n(t,e)})),t},st=function(t){return!(!t||!t.__CANCEL__)},at=function(t,e){tt.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))},ut=function(t,e,n,i,r){return function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,i,r)},ht=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ct=tt.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=tt.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},lt=tt.isStandardBrowserEnv()?{write:function(t,e,n,i,r,o){var s=[];s.push(t+"="+encodeURIComponent(e)),tt.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),tt.isString(i)&&s.push("path="+i),tt.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ft=function(t){return new Promise((function(e,n){var i=t.data,r=t.headers;tt.isFormData(i)&&delete r["Content-Type"];var o=new XMLHttpRequest;if(t.auth){var s=t.auth.username||"",a=t.auth.password||"";r.Authorization="Basic "+btoa(s+":"+a)}if(o.open(t.method.toUpperCase(),nt(t.url,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in o?function(t){var e,n,i,r={};return t?(tt.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=tt.trim(t.substr(0,i)).toLowerCase(),n=tt.trim(t.substr(i+1)),e){if(r[e]&&ht.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}})),r):r}(o.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:i,config:t,request:o};!function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(ut("Request failed with status code "+n.status,n.config,null,n.request,n))}(e,n,r),o=null}},o.onabort=function(){o&&(n(ut("Request aborted",t,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(ut("Network Error",t,null,o)),o=null},o.ontimeout=function(){n(ut("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",o)),o=null},tt.isStandardBrowserEnv()){var u=lt,h=(t.withCredentials||ct(t.url))&&t.xsrfCookieName?u.read(t.xsrfCookieName):void 0;h&&(r[t.xsrfHeaderName]=h)}if("setRequestHeader"in o&&tt.forEach(r,(function(t,e){void 0===i&&"content-type"===e.toLowerCase()?delete r[e]:o.setRequestHeader(e,t)})),t.withCredentials&&(o.withCredentials=!0),t.responseType)try{o.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(o.abort(),n(t),o=null)})),void 0===i&&(i=null),o.send(i)}))},pt={"Content-Type":"application/x-www-form-urlencoded"};function dt(t,e){!tt.isUndefined(t)&&tt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var yt,vt={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?yt=ft:"undefined"!=typeof XMLHttpRequest&&(yt=ft),yt),transformRequest:[function(t,e){return at(e,"Accept"),at(e,"Content-Type"),tt.isFormData(t)||tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t)?t:tt.isArrayBufferView(t)?t.buffer:tt.isURLSearchParams(t)?(dt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):tt.isObject(t)?(dt(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};vt.headers={common:{Accept:"application/json, text/plain, */*"}},tt.forEach(["delete","get","head"],(function(t){vt.headers[t]={}})),tt.forEach(["post","put","patch"],(function(t){vt.headers[t]=tt.merge(pt)}));var gt=vt;function mt(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var kt=function(t){var e,n,i;return mt(t),t.baseURL&&(i=t.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(i))&&(t.url=(e=t.baseURL,(n=t.url)?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e)),t.headers=t.headers||{},t.data=ot(t.data,t.headers,t.transformRequest),t.headers=tt.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),tt.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||gt.adapter)(t).then((function(e){return mt(t),e.data=ot(e.data,e.headers,t.transformResponse),e}),(function(e){return st(e)||(mt(t),e&&e.response&&(e.response.data=ot(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},bt=function(t,e){e=e||{};var n={};return tt.forEach(["url","method","params","data"],(function(t){void 0!==e[t]&&(n[t]=e[t])})),tt.forEach(["headers","auth","proxy"],(function(i){tt.isObject(e[i])?n[i]=tt.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:tt.isObject(t[i])?n[i]=tt.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),tt.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n};function wt(t){this.defaults=t,this.interceptors={request:new rt,response:new rt}}wt.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=bt(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[kt,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},wt.prototype.getUri=function(t){return t=bt(this.defaults,t),nt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},tt.forEach(["delete","get","head","options"],(function(t){wt.prototype[t]=function(e,n){return this.request(tt.merge(n||{},{method:t,url:e}))}})),tt.forEach(["post","put","patch"],(function(t){wt.prototype[t]=function(e,n,i){return this.request(tt.merge(i||{},{method:t,url:e,data:n}))}}));var xt=wt;function Tt(t){this.message=t}Tt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Tt.prototype.__CANCEL__=!0;var St=Tt;function At(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new St(t),e(n.reason))}))}At.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},At.source=function(){var t;return{token:new At((function(e){t=e})),cancel:t}};var Ot=At;function Ct(t){var e=new xt(t),n=G(xt.prototype.request,e);return tt.extend(n,xt.prototype,e),tt.extend(n,e),n}var _t=Ct(gt);_t.Axios=xt,_t.create=function(t){return Ct(bt(_t.defaults,t))},_t.Cancel=St,_t.CancelToken=Ot,_t.isCancel=st,_t.all=function(t){return Promise.all(t)},_t.spread=function(t){return function(e){return t.apply(null,e)}};var Pt=_t,Mt=_t;Pt.default=Mt;var Et=Pt,jt=function(){function t(){r(this,t),e(this,"baseURL",""),e(this,"baseData",{})}return s(t,[{key:"request",value:function(t,e,n){return Et({method:t,url:e,data:n}).then((function(t){return 200==t.status?t.data:Promise.reject("接口请求失败")}))}},{key:"post",value:function(t,e){return this.request("post",this.baseURL+t,Object.assign({},this.baseData,e))}},{key:"get",value:function(t,e){return this.request("get",this.baseURL+t,Object.assign({},this.baseData,e))}}]),t}(),Rt={Get:function(t){return Promise.resolve(window.localStorage.getItem(t)).then((function(t){return JSON.parse(t)})).catch((function(){return null}))},Set:function(t,e){return window.localStorage.setItem(t,JSON.stringify(e)),Promise.resolve(e)},GetSync:function(t){try{return JSON.parse(window.localStorage.getItem(t))}catch(t){return null}},SetSync:function(t,e){return window.localStorage.setItem(t,JSON.stringify(e)),e}};return t.ApiWebCanvas=function t(e){if(e&&t[e])return t[e];var n=document.createElement("canvas");return"main"==e&&document.body.appendChild(n),e?t[e]=n:n},t.ApiWebFont=function(t){var e="Font"+Date.now(),n=document.createElement("style");return n.type="text/css",n.innerHTML="\n            @font-face {\n                font-family: '".concat(e,"';\n                src: url('").concat(t,"'); \n            }\n            body {\n                font-family: '").concat(e,"';\n            }\n        "),document.body.appendChild(n),e},t.ApiWebRequest=jt,t.ApiWebStorage=Rt,t.ApiWebSystem=function t(){return t.pixel=window.devicePixelRatio||2,t.width=document.body.clientWidth,t.height=document.body.clientHeight,t.ratio=t.width/t.height,t},t.ComponentBase=V,t.ComponentBuild=N,t.ComponentScroll=X,t.ComponentText=W,t.ComponentTexture=Y,t.MathArray=O,t.MathClock=I,t.MathColor=z,t.MathMatrix3=E,t.MathMatrix4=j,t.MathPosition=L,t.MathRandom=R,t.MathTime=U,t.MathVector=C,t.MathVector2=_,t.MathVector3=P,t.MathVector4=M,t.ResourceAudio=x,t.ResourceImage=b,t.ResourceWebAudio=T,t.ResourceWebImage=w,t.UtilCanvas=i,t.UtilCollsion=m,t.UtilLoaderMap=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,o={};return Object.keys(e).forEach((function(s){if("_"==s){if(-1==r.indexOf(e[s]))return;var a=i.slice(0,-1),u=n+i.slice(0,-1)+"."+e[s];o[a]=u}else if("string"==typeof e[s]){if(-1==r.indexOf(e[s]))return;var h=i+s,c=n+i+s+"."+e[s];o[h]=c}else Object.assign(o,t(e[s],n,i+s+"/",r))})),o},t.UtilPointInRect=function(t,e,n,i,r,o){return t>=n&&t<=n+r&&e>=i&&e<=i+o},t.UtilRecursiveMap=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return"string"==typeof key&&(e=e.split(n)),e.reduce((function(t,e){return t?t[e]:t}),t)},t.UtilRender=a,t.UtilTouch=g,t.UtilWebMouseListen=function(t,e){t.addEventListener("mousedown",(function(t){return e.onTouchStart(t)}),{passive:!0}),t.addEventListener("mousemove",(function(t){return e.onTouchMove(t)}),{passive:!0}),t.addEventListener("mouseup",(function(t){return e.onTouchEnd(t)}),{passive:!0}),t.addEventListener("mouseout",(function(t){return e.onTouchEnd(t)}),{passive:!0})},t.UtilWebTouchListen=function(t,e){t.addEventListener("touchstart",(function(t){return e.onTouchStart(t)}),{passive:!0}),t.addEventListener("touchmove",(function(t){return e.onTouchMove(t)}),{passive:!0}),t.addEventListener("touchend",(function(t){return e.onTouchEnd(t)}),{passive:!0}),t.addEventListener("touchcancel",(function(t){return e.onTouchEnd(t)}),{passive:!0})},t}({});
